"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react"),t=require("react-loading-skeleton");function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var r=n(e),a=n(t);function o(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css","top"===n&&r.firstChild?r.insertBefore(a,r.firstChild):r.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e))}}o("/* common */\n.Container {\n  text-align: left;\n  background-color: white;\n  display: flex;\n  flex-direction: column;\n  border-radius: 7px;\n  border: 1px solid #ccc;\n  color: black;\n  transition: 0.3s all ease;\n  height: fit-content; }\n  .Container:hover {\n    background-color: #fafafa !important;\n    cursor: pointer; }\n\n.Secondary {\n  color: #646464; }\n\n.LowerContainer {\n  padding: 10px; }\n\n.Title {\n  margin-top: 0;\n  margin-bottom: 10px; }\n\n.Image {\n  width: 100%;\n  border-top-left-radius: 7px;\n  border-top-right-radius: 7px;\n  background-size: cover;\n  background-repeat: no-repeat;\n  background-position: center;\n  height: 30vh; }\n\n.SiteDetails {\n  margin-top: 10px; }\n\n/* sm */\n@media (max-width: 640px) {\n  .Description {\n    display: none; } }\n\n/* md */\n@media (min-width: 641px) and (max-width: 768px) {\n  .Description {\n    display: none; } }\n");o(".skeleton-container {\n  border-radius: 7px;\n  border: 1px solid #eee; }\n\n.skeleton-lower-container {\n  padding: 10px; }\n");var i=function(e){var t=e.width,n=void 0===t?"100%":t,o=e.imageHeight,i=void 0===o?"30vh":o,l=e.margin;return r.default.createElement("div",{className:"skeleton-container",style:{width:n,margin:l}},r.default.createElement(a.default,{width:n,height:i}),r.default.createElement("div",{className:"skeleton-lower-container"},r.default.createElement(a.default,{count:3})))};exports.LinkPreview=function(t){var n=t.url,a=t.className,o=void 0===a?"":a,l=t.width,d=t.height,c=t.descriptionLength,s=t.borderRadius,u=t.imageHeight,m=t.textAlign,f=t.margin,p=t.fallback,h=void 0===p?null:p,g=t.backgroundColor,v=void 0===g?"white":g,b=t.primaryTextColor,x=void 0===b?"black":b,y=t.secondaryTextColor,w=void 0===y?"rgb(100, 100, 100)":y,N=t.borderColor,k=void 0===N?"#ccc":N,E=t.showLoader,C=void 0===E||E,S=t.customLoader,T=void 0===S?null:S,D=t.openInNewTab,I=void 0===D||D,L=t.fetcher,R=t.fallbackImageSrc,j=void 0===R?"https://i.imgur.com/UeDNBNQ.jpeg":R,A=t.explicitImageSrc,B=void 0===A?null:A,U=t.showPlaceholderIfNoImage,_=void 0===U||U,H=t.customTitle,P=void 0===H?"":H,q=t.customDescription,F=void 0===q?"":q,Q=t.setApiData,z=void 0===Q?function(){}:Q,M=e.useRef(!0),O=e.useState(),W=O[0],G=O[1],J=e.useState(!0),K=J[0],V=J[1];if(e.useEffect((function(){return M.current=!0,V(!0),L?L(n).then((function(e){M.current&&(!function(e){return!!e&&null!==e.title&&null!==e.description&&null!==e.image&&null!==e.siteName&&null!==e.hostname&&void 0!==e.title&&void 0!==e.description&&void 0!==e.image&&void 0!==e.siteName&&void 0!==e.hostname&&"null"!==e.image&&!e.image.startsWith("/")}(e)?G(null):G(e),V(!1))})).catch((function(e){console.error(e),console.error("No metadata could be found for the given URL."),M.current&&(G(null),V(!1))})):fetch("https://rlp-proxy.herokuapp.com/v2?url="+n).then((function(e){return e.json()})).then((function(e){M.current&&(G(e.metadata),z(e.metadata),V(!1))})).catch((function(e){console.error(e),console.error("No metadata could be found for the given URL."),M.current&&(G(null),V(!1))})),function(){M.current=!1}}),[n,L]),K&&C)return T?r.default.createElement(r.default.Fragment,null,T):r.default.createElement(i,{width:l,imageHeight:u,margin:f});if(!W)return r.default.createElement(r.default.Fragment,null,h);var X=W.image,Y=W.description,Z=W.title,$=W.siteName,ee=W.hostname;return r.default.createElement("div",{"data-testid":"container",onClick:function(){var e=I?"_blank":"_self";window.open(n,e)},className:"Container "+o,style:{width:l,height:d,borderRadius:s,textAlign:m,margin:f,backgroundColor:v,borderColor:k}},(X||j)&&_&&r.default.createElement("div",{"data-testid":"image-container",style:{borderTopLeftRadius:s,borderTopRightRadius:s,backgroundImage:"url("+(B||X||j)+"), url("+j+")",height:u},className:"Image"}),r.default.createElement("div",{className:"LowerContainer"},r.default.createElement("h3",{"data-testid":"title",className:"Title",style:{color:x}},""!==P?P:Z),""!==F?F:Y&&r.default.createElement("span",{"data-testid":"desc",className:"Description Secondary",style:{color:w}},c&&Y.length>c?Y.slice(0,c)+"...":Y),r.default.createElement("div",{className:"Secondary SiteDetails",style:{color:w}},$&&r.default.createElement("span",null,$," â€¢ "),r.default.createElement("span",null,ee))))},exports.placeholderImg="https://i.imgur.com/UeDNBNQ.jpeg";
//# sourceMappingURL=index.js.map
